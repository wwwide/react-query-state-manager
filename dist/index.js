"use strict";var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var h=(t,e)=>{for(var r in e)c(t,r,{get:e[r],enumerable:!0})},w=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of F(e))!O.call(t,o)&&o!==r&&c(t,o,{get:()=>e[o],enumerable:!(a=E(e,o))||a.enumerable});return t};var A=t=>w(c({},"__esModule",{value:!0}),t);var _={};h(_,{useMutationManager:()=>I,useStateManager:()=>G});module.exports=A(_);var M=require("@tanstack/react-query");var p=require("react"),y=(t,e)=>{t.removeQueries(e)},Q=t=>{t.removeQueries()},d=t=>{let e=(0,p.useCallback)(a=>y(t,a),[y]),r=(0,p.useCallback)(()=>Q(t),[Q]);return{remove:e,removeAll:r}};var D=require("react"),v=(t,e,r)=>t.setQueryData(e,r),S=t=>({set:(0,D.useCallback)((r,a)=>v(t,r,a),[v])});var C=require("react"),T=(t,e)=>t.getQueryData(e),x=t=>({get:(0,C.useCallback)(r=>T(t,r),[T])});var f=require("react"),m=require("@tanstack/react-query");var k=(t,e,r)=>{let a=(0,m.useQueryClient)(),{data:o,isFetching:s,isFetched:i,isError:l,isSuccess:n,status:u,error:R}=(0,m.useQuery)(t,e,r),b=(0,f.useCallback)(()=>{y(a,t)},[y,a]);return{data:o,isFetching:s,isFetched:i,isError:l,isSuccess:n,status:u,error:R,cleanUp:b}},K=()=>({use:(0,f.useCallback)((e,r,a)=>k(e,r,a),[k])});var V=require("react"),g=(t,e)=>t.invalidateQueries(e),U=t=>({invalidate:(0,V.useCallback)(r=>g(t,r),[g])});var G=t=>{let e=t||(0,M.useQueryClient)(),{remove:r,removeAll:a}=d(e),{set:o}=S(e),{get:s}=x(e),{invalidate:i}=U(e),{use:l}=K();return{__client__:e,get:s,set:o,invalidate:i,remove:r,removeAll:a,use:l}};var P=require("react"),H=require("@tanstack/react-query"),I=(t,e)=>{let{mutateAsync:r,isError:a,isSuccess:o,isLoading:s,status:i}=(0,H.useMutation)(n=>t(n)),l=(0,P.useCallback)(async n=>{try{e?.onBefore&&await e.onBefore(n);let u=await r(n);return e?.onSuccess&&await e.onSuccess(n,u),u}catch(u){throw e?.onError&&e.onError(u),u}finally{e?.onFinally&&e.onFinally()}},[e]);return{mutateAsync:r,routine:l,isError:a,isSuccess:o,isLoading:s,status:i}};
