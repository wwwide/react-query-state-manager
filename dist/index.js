"use strict";var c=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var w=(t,e)=>{for(var r in e)c(t,r,{get:e[r],enumerable:!0})},A=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of O(e))!h.call(t,o)&&o!==r&&c(t,o,{get:()=>e[o],enumerable:!(a=F(e,o))||a.enumerable});return t};var G=t=>A(c({},"__esModule",{value:!0}),t);var B={};w(B,{useMutationManager:()=>_,useStateManager:()=>I});module.exports=G(B);var M=require("@tanstack/react-query");var p=require("react"),l=(t,e)=>{t.removeQueries(e)},f=t=>{t.removeQueries()},d=t=>{let e=(0,p.useCallback)(a=>l(t,a),[l]),r=(0,p.useCallback)(()=>f(t),[f]);return{remove:e,removeAll:r}};var D=require("react"),v=(t,e,r)=>t.setQueryData(e,r),C=t=>({set:(0,D.useCallback)((r,a)=>v(t,r,a),[v])});var T=require("react"),S=(t,e)=>t.getQueryData(e),x=t=>({get:(0,T.useCallback)(r=>S(t,r),[S])});var Q=require("react"),m=require("@tanstack/react-query");var k=(t,e,r,a)=>{let o=r||(0,m.useQueryClient)(),{data:i,isFetching:s,isFetched:y,isError:n,isSuccess:u,status:R,error:b}=(0,m.useQuery)(t,e,a),E=(0,Q.useCallback)(()=>{l(o,t)},[l,r]);return{data:i,isFetching:s,isFetched:y,isError:n,isSuccess:u,status:R,error:b,cleanUp:E}},K=t=>({use:(0,Q.useCallback)((r,a,o)=>k(r,a,t,o),[k])});var V=require("react"),g=(t,e)=>t.invalidateQueries(e),U=t=>({invalidate:(0,V.useCallback)(r=>g(t,r),[g])});var I=t=>{let e=t||(0,M.useQueryClient)(),{remove:r,removeAll:a}=d(e),{set:o}=C(e),{get:i}=x(e),{invalidate:s}=U(e),{use:y}=K();return{__client__:e,get:i,set:o,invalidate:s,remove:r,removeAll:a,use:y}};var P=require("react"),H=require("@tanstack/react-query"),_=(t,e)=>{let{mutateAsync:r,isError:a,isSuccess:o,isLoading:i,status:s}=(0,H.useMutation)(n=>t(n)),y=(0,P.useCallback)(async n=>{try{e?.onBefore&&await e.onBefore(n);let u=await r(n);return e?.onSuccess&&await e.onSuccess(n,u),u}catch(u){throw e?.onError&&e.onError(u),u}finally{e?.onFinally&&e.onFinally()}},[e]);return{mutateAsync:r,routine:y,isError:a,isSuccess:o,isLoading:i,status:s}};
