"use strict";var c=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var O=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var w=(e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})},A=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of O(t))!h.call(e,o)&&o!==r&&c(e,o,{get:()=>t[o],enumerable:!(a=F(t,o))||a.enumerable});return e};var G=e=>A(c({},"__esModule",{value:!0}),e);var B={};w(B,{useMutationManager:()=>_,useStateManager:()=>I});module.exports=G(B);var M=require("@tanstack/react-query");var p=require("react"),y=(e,t)=>{e.removeQueries(t)},f=e=>{e.removeQueries()},d=e=>{let t=(0,p.useCallback)(a=>y(e,a),[y]),r=(0,p.useCallback)(()=>f(e),[f]);return{remove:t,removeAll:r}};var D=require("react"),v=(e,t,r)=>e.setQueryData(t,r),S=e=>({set:(0,D.useCallback)((r,a)=>v(e,r,a),[v])});var T=require("react"),C=(e,t)=>e.getQueryData(t),x=e=>({get:(0,T.useCallback)(r=>C(e,r),[C])});var Q=require("react"),l=require("@tanstack/react-query");var k=(e,t,r,a)=>{let o=r||(0,l.useQueryClient)(),{data:s,isFetching:i,isFetched:m,isError:n,isSuccess:u,status:R,error:b}=(0,l.useQuery)(e,t,a),E=(0,Q.useCallback)(()=>{y(o,e)},[y,r]);return{data:s,isFetching:i,isFetched:m,isError:n,isSuccess:u,status:R,error:b,cleanUp:E}},K=e=>({use:(0,Q.useCallback)((r,a,o)=>k(r,a,e,o),[k,e])});var V=require("react"),g=(e,t)=>e.invalidateQueries(t),U=e=>({invalidate:(0,V.useCallback)(r=>g(e,r),[g])});var I=()=>{let e=(0,M.useQueryClient)(),{remove:t,removeAll:r}=d(e),{set:a}=S(e),{get:o}=x(e),{invalidate:s}=U(e),{use:i}=K(e);return{__client__:e,get:o,set:a,invalidate:s,remove:t,removeAll:r,use:i}};var P=require("react"),H=require("@tanstack/react-query"),_=(e,t)=>{let{mutateAsync:r,isError:a,isSuccess:o,isLoading:s,status:i}=(0,H.useMutation)(n=>e(n)),m=(0,P.useCallback)(async n=>{try{t?.onBefore&&await t.onBefore(n);let u=await r(n);return t?.onSuccess&&await t.onSuccess(n,u),u}catch(u){throw t?.onError&&t.onError(u),u}finally{t?.onFinally&&t.onFinally()}},[t]);return{mutateAsync:r,routine:m,isError:a,isSuccess:o,isLoading:s,status:i}};
