"use strict";var c=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var O=Object.prototype.hasOwnProperty;var h=(e,t)=>{for(var r in t)c(e,r,{get:t[r],enumerable:!0})},w=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F(t))!O.call(e,o)&&o!==r&&c(e,o,{get:()=>t[o],enumerable:!(a=E(t,o))||a.enumerable});return e};var A=e=>w(c({},"__esModule",{value:!0}),e);var _={};h(_,{useMutationManager:()=>I,useStateManager:()=>G});module.exports=A(_);var M=require("@tanstack/react-query");var p=require("react"),l=(e,t)=>{e.removeQueries(t)},Q=e=>{e.removeQueries()},d=e=>{let t=(0,p.useCallback)(a=>l(e,a),[l]),r=(0,p.useCallback)(()=>Q(e),[Q]);return{remove:t,removeAll:r}};var D=require("react"),v=(e,t,r)=>e.setQueryData(t,r),S=e=>({set:(0,D.useCallback)((r,a)=>v(e,r,a),[v])});var x=require("react"),T=(e,t)=>e.getQueryData(t),C=e=>({get:(0,x.useCallback)(r=>T(e,r),[T])});var f=require("react"),y=require("@tanstack/react-query");var k=(e,t,r)=>{let a=(0,y.useQueryClient)(),{data:o,isFetching:s,isFetched:i,isError:m,isSuccess:n,status:u,error:R}=(0,y.useQuery)(e,t,r),b=(0,f.useCallback)(()=>{l(a,e)},[l,a]);return{data:o,isFetching:s,isFetched:i,isError:m,isSuccess:n,status:u,error:R,cleanUp:b}},K=()=>({use:(0,f.useCallback)((t,r,a)=>k(t,r,a),[k])});var V=require("react"),g=(e,t)=>e.invalidateQueries(t),U=e=>({invalidate:(0,V.useCallback)(r=>g(e,r),[g])});var G=()=>{let e=(0,M.useQueryClient)(),{remove:t,removeAll:r}=d(e),{set:a}=S(e),{get:o}=C(e),{invalidate:s}=U(e),{use:i}=K();return{__client__:e,get:o,set:a,invalidate:s,remove:t,removeAll:r,use:i}};var P=require("react"),H=require("@tanstack/react-query"),I=(e,t)=>{let{mutateAsync:r,isError:a,isSuccess:o,isLoading:s,status:i}=(0,H.useMutation)(n=>e(n)),m=(0,P.useCallback)(async n=>{try{t?.onBefore&&await t.onBefore(n);let u=await r(n);return t?.onSuccess&&await t.onSuccess(n,u),u}catch(u){throw t?.onError&&t.onError(u),u}finally{t?.onFinally&&t.onFinally()}},[t]);return{mutateAsync:r,routine:m,isError:a,isSuccess:o,isLoading:s,status:i}};
